<!DOCTYPE html>
<html>
	<head>
		<title>jQuery lightbox clone - prettyPhoto - by Stephane Caron</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
		<!--script src="js/jquery.lint.js" type="text/javascript" charset="utf-8"></script-->
		<link rel="stylesheet" href="css/prettyPhoto.css" type="text/css" media="screen" title="prettyPhoto main stylesheet" charset="utf-8" />
		<script src="js/jquery.prettyPhoto.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/jquery-mousewheel.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/interact.min.js" type="text/javascript" charset="utf-8"></script>
		
		<style type="text/css" media="screen">
			* { margin: 0; padding: 0; }
			
			body {
				background: #282828;
				font: 62.5%/1.2 Arial, Verdana, Sans-Serif;
				padding: 0 20px;
			}
			
			h1 { font-family: Georgia; font-style: italic; margin-bottom: 10px; }
			
			h2 {
				font-family: Georgia;
				font-style: italic;
				margin: 25px 0 5px 0;
			}
			
			p { font-size: 1.2em; }
			
			ul li { display: inline; }
			
			.wide {
				border-bottom: 1px #000 solid;
				width: 4000px;
			}
			
			.fleft { float: left; margin: 0 20px 0 0; }
			
			.cboth { clear: both; }
			
			#main {
				background: #fff;
				margin: 0 auto;
				padding: 30px;
				width: 1000px;
			}
		</style>
	</head>
	<body>
		<div id="main">
			<h1>Infini-Lightbox Image Gallery Plugin</h1><br>
			
			<h1>Features</h1>
			<ul style="font-size:18px;">
					<li>Basic Lightbox style image carousel	- <strong>Completed</strong></li><br>
					<li>Zoom and Pan - Mouse Support  - <strong>Completed</strong></li><br>
					<li>Touch Support </li><br>
					<li>Magnifier Icons, Copyright Statements</li><br>
					<li>Social Media Integration - <strong>Partially Completed</strong> </li><br>
					<li>View Original/View Details - <strong>Completed</strong> </li><br>
					
			</ul>
			<!-- <h2>Gallery</h2>
			<ul class="gallery clearfix">
				<li><a href="images/fullscreen/1.JPG?lol=lol" rel="prettyPhoto[gallery1]" title="You can add caption to pictures. You can add caption to pictures. You can add caption to pictures."><img src="images/thumbnails/t_1.jpg" width="60" height="60" alt="Red round shape" /></a></li>
				<li><a href="images/fullscreen/2.jpg" rel="prettyPhoto[gallery1]"><img src="images/thumbnails/t_2.jpg" width="60" height="60" alt="Nice building" /></a></li>
				<li><a href="images/fullscreen/3.jpg" rel="prettyPhoto[gallery1]"><img src="images/thumbnails/t_3.jpg" width="60" height="60" alt="Fire!" /></a></li>
				<li><a href="images/fullscreen/4.jpg" rel="prettyPhoto[gallery1]"><img src="images/thumbnails/t_4.jpg" width="60" height="60" alt="Rock climbing" /></a></li>
				<li><a href="images/fullscreen/5.jpg" rel="prettyPhoto[gallery1]"><img src="images/thumbnails/t_5.jpg" width="60" height="60" alt="Fly kite, fly!" /></a></li>
				<li><a href="images/fullscreen/6.jpg" rel="prettyPhoto[gallery1]"><img src="images/thumbnails/t_2.jpg" width="60" height="60" alt="Nice building" /></a></li>
			</ul> -->

			<h2>Gallery</h2>
			<ul class="gallery clearfix">
				<li><a href="images/fullscreen/3.jpg" rel="prettyPhoto[gallery2]" detail="/photos/3.html" ><img src="images/thumbnails/t_3.jpg" width="60" height="60" alt=""></a></li>
				<li><a href="images/fullscreen/4.jpg" rel="prettyPhoto[gallery2]" detail="/photos/4.html" ><img src="images/thumbnails/t_4.jpg" width="60" height="60" alt="" /></a></li>
				<li><a href="images/fullscreen/5.jpg" rel="prettyPhoto[gallery2]" detail="/photos/5.html" ><img src="images/thumbnails/t_5.jpg" width="60" height="60" alt="" /></a></li>
				<li><a href="images/fullscreen/1.jpg" rel="prettyPhoto[gallery2]" detail="/photos/6.html" ><img src="images/thumbnails/t_1.jpg" width="60" height="60" alt="" /></a></li>
				<li><a href="images/fullscreen/2.jpg" rel="prettyPhoto[gallery2]" detail="/photos/7.html" ><img src="images/thumbnails/t_2.jpg" width="60" height="60" alt="" /></a></li>
			</ul>

			<br /><br />
			
			
	
			<script type="text/javascript" charset="utf-8">
			$(document).ready(function(){
				
				$(".gallery:first a[rel^='prettyPhoto']").prettyPhoto({animation_speed:'normal',theme:'light_square',slideshow: false,
						changepicturecallback: function(){zoom(); drag();},
						copyright: '(c) CÃ©dric de Foucault, some rights reserved (CC BY-NC-SA)' /* Called everytime an item is shown/changed */
						}
					);
				
			});
			</script>
	

	
		
	</div>
	<script type="text/javascript">
	var scale = 1;  // scale of the image
    var xLast = 0;  // last x location on the screen
    var yLast = 0;  // last y location on the screen
    var xImage = 0; // last x location on the image
    var yImage = 0; // last y location on the image
    var xt = 0;
    var yt = 0;
    var tempx = 0;
	var tempy = 0;
	

		function drag(){

			interact('#fullResImage')
			  .draggable({
			    // enable inertial throwing
			    inertia: false,
			    // keep the element within the area of it's parent
			    restrict: {
			      endOnly: false,
			      
			    },

			    // call this function on every dragmove event
			    onmove: function (event) {
			      var target = event.target,
			          // keep the dragged position in the data-x/data-y attributes
			          x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
			          y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

			      var currWidth = parseFloat(target.style.width)*scale;
			      var currHeight = parseFloat(target.style.height)*scale;
			      var halfcw = currWidth/2.0;
			      var halfch = currHeight/2.0;
			      var leftLimitx = ((halfcw-(parseFloat(target.style.width)/2.0))/scale);
			      var rightLimitx =(((currWidth-parseFloat(target.style.width))/scale)-leftLimitx);
			      var leftLimity = ((halfch-(parseFloat(target.style.height)/2.0))/scale);
			      var rightLimity =(((currHeight-parseFloat(target.style.height))/scale)-leftLimity);
			      
			      x = (x>leftLimitx)? 
			      			leftLimitx : 
			      				(-x< rightLimitx)?  x 
			      					: -rightLimitx;
			      
			      y = (y>leftLimity)? 
			      			leftLimity : 
			      				(-y< rightLimity)?  y 
			      					: -rightLimity;

			      // translate the element
			      applyTransforms(scale, x ,y);
			      // update the posiion attributes
			      target.setAttribute('data-x', x);
			      target.setAttribute('data-y', y);
			    },
			    // call this function on every dragend event
			    onend: function (event) {
			      var textEl = event.target.querySelector('p');

			      textEl && (textEl.textContent =
			        'moved a distance of '
			        + (Math.sqrt(event.dx * event.dx +
			                     event.dy * event.dy)|0) + 'px');
			    }
			  });	

		}


    function zoom(){
    
    scale = 1;  // scale of the image
    xLast = 0;  // last x location on the screen
    yLast = 0;  // last y location on the screen
    xImage = 0; // last x location on the image
    yImage = 0;
    $('#pp_full_res img').mousewheel(function(e) 
    {
        // find current location on screen 
        var xScreen = e.pageX - $(this).offset().left;
        var yScreen = e.pageY - $(this).offset().top;
        // find current location on the image at the current scale
        xImage = xImage + ((xScreen - xLast) / scale);
        yImage = yImage + ((yScreen - yLast) / scale);

        // determine the new scale
        if (e.deltaY > 0)
        {
            scale *= 1.05;
        }
        else
        {
            scale /= 1.05;
        }
        scale = scale < 1 ? 1 : (scale > 5 ? 5 : scale);

        tx = $(this).attr("data-x") || 0;
        ty = $(this).attr("data-y") || 0;

        applyTransforms(scale, tx ,ty);
        return false;
    });
	}

	function applyTransforms(s, tx, ty){
		if(s === 1){
			$('#pp_full_res img').attr("data-x",0);
			$('#pp_full_res img').attr("data-y",0);
		} 
		$('#pp_full_res img').css('transform', 'scale(' + s + ')' + 'translate(' + tx + 'px, ' + ty + 'px)');
    $('#pp_full_res img').css('-webkit-transform', 'scale(' + s + ')' + 'translate(' + tx + 'px, ' + ty + 'px)');
	}

	function zoomIn(){
		scale *=1.5;
		scale = scale < 1 ? 1 : (scale > 5 ? 5 : scale);
		if(scale === 1){
			$('#pp_full_res img').attr("data-x",0);
			$('#pp_full_res img').attr("data-y",0);
		} 
		tx = $('#pp_full_res img').attr("data-x") || 0;
    ty = $('#pp_full_res img').attr("data-y") || 0;
		applyTransforms(scale, tx,ty);
	}

	function zoomOut(){
		scale /=1.5;
		scale = scale < 1 ? 1 : (scale > 5 ? 5 : scale);
		if(scale === 1){
			$('#pp_full_res img').attr("data-x",0);
			$('#pp_full_res img').attr("data-y",0);
		} 
		tx = $('#pp_full_res img').attr("data-x") || 0;
    ty = $('#pp_full_res img').attr("data-y") || 0;
		applyTransforms(scale, tx ,ty);
	}

</script>
	</body>
</html>